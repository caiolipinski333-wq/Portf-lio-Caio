CREATE DATABASE ORION_HOSPITALS_LABORATORIES;
GO

USE ORION_HOSPITALS_LABORATORIES;
GO


CREATE TABLE LOGIN (
    IDLOGIN INT PRIMARY KEY IDENTITY,
    LOGIN VARCHAR (50) NOT NULL,
    SENHA VARCHAR (25) NOT NULL,
    AJUDA VARCHAR (300)
);
GO


INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Alice Oliveira', '98127634');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Lucas Silva', '56789123');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Isabella Pereira', '23456789');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Matheus Santos', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Sophia Lima', '54321876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Enzo Costa', '19283746');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Laura Souza', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Gabriel Oliveira', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Manuela Silva', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Arthur Pereira', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Valentina Santos', '12349876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Heitor Lima', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Helena Costa', '23456781');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Davi Souza', '54321987');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Mariana Oliveira', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Pedro Silva', '12345678');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Ana Pereira', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Luan Santos', '56789123');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Isabel Lima', '23451876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Joaquim Costa', '87654329');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Luiza Souza', '19876543');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Cauã Oliveira', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Larissa Silva', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Enzo Pereira', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Eloá Santos', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Ana Souza', '12345678');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Carlos Oliveira', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Fernanda Lima', '23456789');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Rafael Costa', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Camila Pereira', '54321876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Lucas Silva', '19283746');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Juliana Santos', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Felipe Oliveira', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Isabela Costa', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Renato Lima', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Mariana Pereira', '12349876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Gabriel Santos', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Clara Oliveira', '23456781');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Gustavo Souza', '54321987');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Bianca Costa', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Ricardo Lima', '12345678');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Lívia Oliveira', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Pedro Silva', '56789123');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Amanda Pereira', '23451876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Bruno Costa', '87654329');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Laura Souza', '19876543');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Henrique Oliveira', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Larissa Lima', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Thiago Santos', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Sofia Almeida', '54421245');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Lucas', '12345678');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Clara', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Nossa Senhora da Paz', '23456789');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital do Coração', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Samaritano', '54321876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Francisco', '19283746');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São José', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Rita', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Isabel', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santo Antônio', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Cruz', '12349876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Paulo', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Luzia', '23456781');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Helena', '54321987');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Nossa Senhora Aparecida', '98765432');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Mônica', '12345678');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Gabriel', '87654321');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Barbara', '56789123');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Catarina', '23451876');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Maria', '87654329');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Roque', '19876543');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Santa Tereza', '87651234');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital Nossa Senhora do Perpétuo Socorro', '34567891');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Sebastião', '65432189');
INSERT INTO LOGIN (LOGIN, SENHA) VALUES ('Hospital São Luiz', '15615142');
GO


CREATE TABLE PACIENTES (
    IDPACIENTE INT PRIMARY KEY IDENTITY,
    NOME VARCHAR (30) NOT NULL,
    SEXO CHAR(1) NOT NULL CHECK (SEXO IN ('M','F')),
    EMAIL VARCHAR (70),
    NASCIMENTO DATE,
    ID_FK_LOGIN INT,
    FOREIGN KEY(ID_FK_LOGIN) REFERENCES LOGIN(IDLOGIN)
);
GO

INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Alice Oliveira', 'F', 'aliceoliveira@gmail.com', '1998-03-04', 1);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Lucas Silva', 'M', 'lucassilva@gmail.com', '2000-05-04', 2);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Isabella Pereira', 'F', 'isabelapereira@gmail.com', '2003-01-29', 3);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Matheus Santos', 'M', 'matheussouza@gmail.com', '2002-02-02', 4);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Sophia Lima', 'F', 'sophialima@gmail.com', '2000-02-04', 5);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Enzo Costa', 'M', 'enzocosta@gmail.com', '2001-04-09', 6);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Laura Souza', 'F', 'laurasouza@gmail.com', '2003-08-11', 7);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Gabriel Oliveira', 'M', 'gabrieloliveira@gmail.com', '2001-10-29', 8);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Manuela Silva', 'F', 'manuelasilva@gmail.com', '2004-11-12', 9);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Arthur Pereira', 'M', 'arthurpereira@gmail.com', '2000-09-12', 10);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Valentina Santos', 'F', 'valentinasantos@gmail.com', '2000-12-12', 11);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Heitor Lima', 'M', 'heitorlima@gmail.com', '1999-12-10', 12);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Helena Costa', 'F', 'helenacosta@gmail.com', '1999-12-02', 13);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Davi Souza', 'M', 'davisouza@gmail.com', '1999-01-02', 14);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Mariana Oliveira', 'F', 'marianaoliveira@gmail.com', '1999-01-06', 15);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Pedro Silva', 'M', 'pedrosilva@gmail.com', '1999-01-09', 16);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Ana Pereira', 'F', 'anapereira@gmail.com', '1999-01-11', 17);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Luan Santos', 'M', 'luansantos@gmail.com', '1999-01-18', 18);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Isabel Lima', 'F', 'isabellima@gmail.com', '1999-01-19', 19);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Joaquim Costa', 'M', 'joaquimcosta@gmail.com', '1999-01-21', 20);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Luiza Souza', 'F', 'luizasouza@gmail.com', '1999-01-25', 21);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Cauã Oliveira', 'M', 'cauaoliveira@gmail.com', '1999-01-30', 22);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Larissa Silva', 'F', 'larissasilva@gmail.com', '1999-02-06', 23);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Enzo Pereira', 'M', 'enzopereira@gmail.com', '1999-02-12', 24);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Eloá Santos', 'F', 'eloasantos@gmail.com', '1999-02-15', 25);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Ana Souza', 'F', 'anasouza@gmail.com', '1999-02-19', 26);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Carlos Oliveira', 'M', 'carlosoliveira@gmail.com', '1999-02-23', 27);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Fernanda Lima', 'F', 'fernandalima@gmail.com', '1999-02-27', 28);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Rafael Costa', 'M', 'rafaelcosta@gmail.com', '1999-03-01', 29);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Camila Pereira', 'F', 'camilapereira@gmail.com', '1999-03-09', 30);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Lucas Silva', 'M', 'lucassilva2@gmail.com', '1999-03-10', 31);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Juliana Santos', 'F', 'julianasantos@gmail.com', '1999-03-15', 32);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Felipe Oliveira', 'M', 'felipeoliveira@gmail.com', '1999-03-18', 33);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Isabela Costa', 'F', 'isabelacosta@gmail.com', '1999-03-21', 34);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Renato Lima', 'M', 'renatolima@gmail.com', '1999-03-27', 35);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Mariana Pereira', 'F', 'marianapereira@gmail.com', '1999-03-29', 36);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Gabriel Santos', 'M', 'gabrielsantos@gmail.com', '1999-04-01', 37);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Clara Oliveira', 'F', 'claraoliveira@gmail.com', '1999-04-06', 38);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Gustavo Souza', 'M', 'gustavosouza@gmail.com', '1999-04-10', 39);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Bianca Costa', 'F', 'biancacosta@gmail.com', '1999-04-18', 40);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Ricardo Lima', 'M', 'ricardolima@gmail.com', '1999-04-20', 41);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Lívia Oliveira', 'F', 'liviooliveira@gmail.com', '1999-04-25', 42);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Pedro Silva', 'M', 'pedrosilva2@gmail.com', '1999-04-29', 43);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Amanda Pereira', 'F', 'amandapereira@gmail.com', '1999-05-01', 44);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Bruno Costa', 'M', 'brunocosta@gmail.com', '1999-05-09', 45);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Laura Souza', 'F', 'laurasouza2@gmail.com', '1999-05-10', 46);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Henrique Oliveira', 'M', 'henriqueoliveira@gmail.com', '1999-05-11', 47);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Larissa Lima', 'F', 'larissalima@gmail.com', '1999-05-12', 48);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Thiago Santos', 'M', 'thiagosantos@gmail.com', '1999-05-14', 49);
INSERT INTO PACIENTES (NOME, SEXO, EMAIL, NASCIMENTO, ID_FK_LOGIN) VALUES ('Sofia Almeida', 'F', 'sofia_almeida@hotmail.com', '1999-04-20', 50);
GO


CREATE TABLE MEDICO (
    IDMEDICO INT PRIMARY KEY IDENTITY,
    NOME VARCHAR(30),
    SEXO CHAR(1) NOT NULL CHECK (SEXO IN ('M', 'F')),
    ESPECIALIDADE VARCHAR(70),
    FUNCIONARIO VARCHAR(20),
    ID_FK_LOGIN INT,

    CONSTRAINT FK_MEDICO_LOGIN FOREIGN KEY (ID_FK_LOGIN)
    REFERENCES LOGIN (IDLOGIN)
);
GO

INSERT INTO MEDICO (NOME, SEXO, ESPECIALIDADE, FUNCIONARIO, ID_FK_LOGIN)
VALUES ('Ana Souza', 'F', 'Pediatria', 'Claudia', 26),
       ('Carlos Oliveira', 'M', 'Urologia', 'Cardoso', 27),
       ('Fernanda Lima', 'F', 'Ortopedia', 'Carvalho', 28),
       ('Rafael Costa', 'M', 'Dermatologia', 'Dorival', 29),
       ('Camila Pereira', 'F', 'Neurologia', 'Souza', 30),
       ('Lucas Silva', 'M', 'Psiquiatria', 'Silva', 31),
       ('Juliana Santos', 'F', 'Cirurgia Geral', 'Pereira', 32),
       ('Felipe Oliveira', 'M', 'Endocrinologia', 'Flavio', 33),
       ('Isabela Costa', 'F', 'Oftalmologia', 'Costa', 34),
       ('Renato Lima', 'M', 'Oncologia', 'Lima', 35),
       ('Mariana Pereira', 'F', 'Ginecologia', 'Ferreira', 36),
       ('Gabriel Santos', 'M', 'Oncologia', 'Santos', 37),
       ('Clara Oliveira', 'F', 'Infectologia', 'Oliveira', 38),
       ('Gustavo Souza', 'M', 'Radiologia', 'Luiz', 39),
       ('Bianca Costa', 'F', 'Cardiologia', 'Batista', 40),
       ('Ricardo Lima', 'M', 'Otorrinolaringologia', 'Borges', 41),
       ('Lívia Oliveira', 'F', 'Cirurgia Plastica', 'Campos', 42),
       ('Pedro Silva', 'M', 'Radiologia', 'Alves', 43),
       ('Amanda Pereira', 'F', 'Oncologia', 'Dias', 44),
       ('Bruno Costa', 'M', 'Infectologia', 'Freitas', 45),
       ('Laura Souza', 'F', 'Psiquiatria', 'Andrade', 46),
       ('Henrique Oliveira', 'M', 'Endocrinologia', 'Barros', 47),
       ('Larissa Lima', 'F', 'Cardiologia', 'Castro', 48),
       ('Thiago Santos', 'M', 'Oftalmologia', 'Duarte', 49),
       ('Sofia Almeida', 'F', 'Dermatologia', 'Antunes', 50);


	   CREATE TABLE HOSPITAL (
    IDHOSPITAL INT PRIMARY KEY IDENTITY,
    NOME VARCHAR(70),
    BAIRRO VARCHAR(40),
    CIDADE VARCHAR(40),
    ESTADO CHAR(2),
    ID_FK_LOGIN INT,

    CONSTRAINT FK_HOSPITAL_LOGIN FOREIGN KEY (ID_FK_LOGIN)
    REFERENCES LOGIN (IDLOGIN)
);
GO

INSERT INTO HOSPITAL (NOME, BAIRRO, CIDADE, ESTADO, ID_FK_LOGIN) VALUES
('Hospital São Lucas', 'Capao Raso', 'Curitiba', 'PR', 51),
('Hospital Santa Clara', 'Pinheirinho', 'Fortaleza', 'CE', 52),
('Hospital Nossa Senhora da Paz', 'Orleans', 'Brasilia', 'DF', 53),
('Hospital do Coração', 'Umbara', 'Rio de Janeiro', 'RJ', 54),
('Hospital Samaritano', 'Abranches', 'Vitoria', 'ES', 55),
('Hospital São Francisco', 'Bacacheri', 'Sao Paulo', 'SP', 56),
('Hospital São José', 'Taruma', 'Porto Alegre', 'RS', 57),
('Hospital Santa Rita', 'Boqueirao', 'Campo Grande', 'MS', 58),
('Hospital Santa Isabel', 'Xaxim', 'Belo Horizonte', 'MG', 59),
('Hospital Santo Antônio', 'Batel', 'Florianopolis', 'SC', 60),
('Hospital Santa Cruz', 'Hauer', 'Belem', 'PA', 61),
('Hospital São Paulo', 'Cajuru', 'Cuiaba', 'MT', 62),
('Hospital Santa Luzia', 'Uberaba', 'Manaus', 'AM', 63),
('Hospital Santa Helena', 'Agua Verde', 'Maceio', 'AL', 64),
('Hospital Nossa Senhora Aparecida', 'Portao', 'Salvador', 'BA', 65),
('Hospital Santa Mônica', 'Cabral', 'Goiania', 'GO', 66),
('Hospital São Gabriel', 'Centro', 'Quitandinha', 'PR', 67),
('Hospital Santa Barbara', 'Juveve', 'Itapoa', 'SC', 68),
('Hospital Santa Catarina', 'Merces', 'Tres Rios', 'RJ', 69),
('Hospital Santa Maria', 'Reboucas', 'Campinas', 'SP', 70),
('Hospital São Roque', 'Tatuquara', 'Natal', 'RN', 71),
('Hospital Santa Tereza', 'Sao Braz', 'Palmas', 'TO', 72),
('Hospital Nossa Senhora do Perpétuo Socorro', 'Seminario', 'Boa Vista', 'RR', 73),
('Hospital São Sebastião', 'Paraolin', 'Rio Branco', 'AC', 74),
('Hospital São Luiz', 'Jardim das Flores', 'Porto Velho', 'RO', 75);
GO



CREATE TABLE CONSULTA (
    IDCONSULTA INT PRIMARY KEY IDENTITY,
    DATA_CONSULTA DATE,
    ID_FK_PACIENTES INT,
    ID_FK_MEDICO INT,
    ID_FK_HOSPITAL INT,

    CONSTRAINT FK_CONSULTA_PACIENTES FOREIGN KEY (ID_FK_PACIENTES) REFERENCES PACIENTES(IDPACIENTE),
    CONSTRAINT FK_CONSULTA_MEDICO FOREIGN KEY (ID_FK_MEDICO) REFERENCES MEDICO(IDMEDICO),
    CONSTRAINT FK_CONSULTA_HOSPITAL FOREIGN KEY (ID_FK_HOSPITAL) REFERENCES HOSPITAL(IDHOSPITAL)
);


INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-01-01', 1, 1, 1);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-02-15', 2, 2, 2);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-03-05', 3, 3, 3);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-04-20', 4, 4, 4);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-05-10', 5, 5, 5);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-06-25', 6, 6, 6); 
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-07-15', 7, 7, 7);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-08-30', 8, 8, 8);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-09-20', 9, 9, 9);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-10-05', 10, 10, 10);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-11-15', 11, 11, 11);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-12-25', 12, 12, 12);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-01-10', 13, 13, 13);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-02-22', 14, 14, 14);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-03-08', 15, 15, 15);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-04-30', 16, 16, 16);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-05-12', 17, 17, 17);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-06-28', 18, 18, 18);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-07-18', 19, 19, 19);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-08-02', 20, 20, 20);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-09-15', 21, 21, 21);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-10-10', 22, 22, 22);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-11-20', 23, 23, 23);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-12-30', 24, 24, 24);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2026-01-05', 25, 25, 25);

CREATE DATABASE BACKUP_AUDITORIA_SISTEMA_ORION_HOSPITALS;
USE BACKUP_AUDITORIA_SISTEMA_ORION_HOSPITALS;

CREATE TABLE backup_consulta (
    IDCONSULTA INT PRIMARY KEY,
    DATA_CONSULTA DATE,
    ID_FK_PACIENTES INT,
    ID_FK_MEDICO INT,
    ID_FK_HOSPITAL INT
);
GO

USE ORION_HOSPITALS_LABORATORIES;
GO

CREATE TRIGGER backup_consulta_trigger
ON CONSULTA
AFTER INSERT
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO BACKUP_AUDITORIA_SISTEMA_ORION_HOSPITALS.dbo.backup_consulta (IDCONSULTA, DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL)
    SELECT IDCONSULTA, DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL
    FROM inserted;
END;
GO

USE ORION_HOSPITALS_LABORATORIES;

SELECT PACIENTES.IDPACIENTE, PACIENTES.NOME, PACIENTES.SEXO, PACIENTES.EMAIL, PACIENTES.NASCIMENTO, LOGIN.LOGIN
FROM PACIENTES
INNER JOIN LOGIN ON PACIENTES.ID_FK_LOGIN = LOGIN.IDLOGIN;

SELECT CONSULTA.IDCONSULTA, CONSULTA.DATA_CONSULTA, PACIENTES.NOME AS NOME_PACIENTE, MEDICO.NOME AS NOME_MEDICO, HOSPITAL.NOME AS NOME_HOSPITAL
FROM CONSULTA
INNER JOIN PACIENTES ON CONSULTA.ID_FK_PACIENTES = PACIENTES.IDPACIENTE
INNER JOIN MEDICO ON CONSULTA.ID_FK_MEDICO = MEDICO.IDMEDICO
INNER JOIN HOSPITAL ON CONSULTA.ID_FK_HOSPITAL = HOSPITAL.IDHOSPITAL;


SELECT MEDICO.IDMEDICO, MEDICO.NOME, MEDICO.SEXO, MEDICO.ESPECIALIDADE, MEDICO.FUNCIONARIO, LOGIN.LOGIN
FROM MEDICO
INNER JOIN LOGIN ON MEDICO.ID_FK_LOGIN = LOGIN.IDLOGIN;


SELECT HOSPITAL.IDHOSPITAL, HOSPITAL.NOME, HOSPITAL.BAIRRO, HOSPITAL.CIDADE, HOSPITAL.ESTADO, LOGIN.LOGIN
FROM HOSPITAL
INNER JOIN LOGIN ON HOSPITAL.ID_FK_LOGIN = LOGIN.IDLOGIN;



USE ORION_HOSPITALS_LABORATORIES;

DELETE FROM CONSULTA WHERE IDCONSULTA IN (7, 15, 1);

INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-07-15', 7, 7, 7)
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2025-03-08', 15, 15, 15);
INSERT INTO CONSULTA (DATA_CONSULTA, ID_FK_PACIENTES, ID_FK_MEDICO, ID_FK_HOSPITAL) VALUES ('2024-01-01', 1, 1, 1);

USE BACKUP_AUDITORIA_SISTEMA_ORION_HOSPITALS;

SELECT * FROM backup_consulta;